import sys
import os 
from make_html import iom_log_to_graph
import datetime
import memcache


def main():
    log_list=[{'last_func': 'create', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032894.766844, 'fun': 'servers.py:show', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'create', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.1557600498199463, 'time': 1498032894.922604, 'fun': 'servers.py:show', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'create', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032894.952068, 'fun': 'servers.py:create', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'create', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032894.96325, 'fun': 'api.py:_check_create_policies', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'create', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.0019330978393554688, 'time': 1498032894.965183, 'fun': 'api.py:_check_create_policies', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'create', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032894.967278, 'fun': 'api.py:_create_instance', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_create_instance', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032894.969751, 'fun': 'api.py:_get_image', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'get', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032894.972203, 'fun': 'api.py:show', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'get', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.04725503921508789, 'time': 1498032895.019458, 'fun': 'api.py:show', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_create_instance', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.05200600624084473, 'time': 1498032895.021757, 'fun': 'api.py:_get_image', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_create_instance', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.024285, 'fun': 'api.py:_validate_and_build_base_options', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_validate_and_build_base_options', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.026853, 'fun': 'api.py:_check_requested_secgroups', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_validate_and_build_base_options', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.002490997314453125, 'time': 1498032895.029344, 'fun': 'api.py:_check_requested_secgroups', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_validate_and_build_base_options', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.032099, 'fun': 'api.py:_check_requested_networks', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_validate_and_build_base_options', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.21512103080749512, 'time': 1498032895.24722, 'fun': 'api.py:_check_requested_networks', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_validate_and_build_base_options', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.251203, 'fun': 'api.py:create_pci_requests_for_sriov_ports', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_validate_and_build_base_options', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.008455038070678711, 'time': 1498032895.259658, 'fun': 'api.py:create_pci_requests_for_sriov_ports', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_create_instance', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.2405259609222412, 'time': 1498032895.264811, 'fun': 'api.py:_validate_and_build_base_options', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_create_instance', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.270631, 'fun': 'api.py:_checks_for_create_and_rebuild', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_checks_for_create_and_rebuild', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.275826, 'fun': 'api.py:_check_metadata_properties_quota', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_checks_for_create_and_rebuild', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.026173114776611328, 'time': 1498032895.301999, 'fun': 'api.py:_check_metadata_properties_quota', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_checks_for_create_and_rebuild', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.308955, 'fun': 'api.py:_check_injected_file_quota', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_checks_for_create_and_rebuild', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.03799915313720703, 'time': 1498032895.346954, 'fun': 'api.py:_check_injected_file_quota', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_checks_for_create_and_rebuild', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.351878, 'fun': 'api.py:_check_requested_image', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_checks_for_create_and_rebuild', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.004022121429443359, 'time': 1498032895.3559, 'fun': 'api.py:_check_requested_image', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_create_instance', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.08915495872497559, 'time': 1498032895.359786, 'fun': 'api.py:_checks_for_create_and_rebuild', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_create_instance', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.363836, 'fun': 'api.py:_provision_instances', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_provision_instances', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.445014, 'fun': 'api.py:_create_build_request', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_provision_instances', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.019855976104736328, 'time': 1498032895.46487, 'fun': 'api.py:_create_build_request', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_provision_instances', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.470723, 'fun': 'api.py:create_db_entry_for_new_instance', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_provision_instances', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.09581708908081055, 'time': 1498032895.56654, 'fun': 'api.py:create_db_entry_for_new_instance', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_create_instance', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.2910618782043457, 'time': 1498032895.654898, 'fun': 'api.py:_provision_instances', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_create_instance', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.660423, 'fun': 'api.py:_record_action_start', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_create_instance', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.010666847229003906, 'time': 1498032895.67109, 'fun': 'api.py:_record_action_start', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'build_instances', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.676831, 'fun': 'api.py:build_instances', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'build_instances', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.02453899383544922, 'time': 1498032895.70137, 'fun': 'api.py:build_instances', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'create', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.7392210960388184, 'time': 1498032895.706499, 'fun': 'api.py:_create_instance', 'module_name': '/usr/bin/nova-api'}, {'last_func': 'create', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.7607009410858154, 'time': 1498032895.712769, 'fun': 'servers.py:create', 'module_name': '/usr/bin/nova-api'}, {'last_func': '_do_dispatch', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.719283, 'fun': 'dispatcher.py:build_instances', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': 'build_instances', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.742393, 'fun': 'manager.py:_schedule_instances', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': '_schedule_instances', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.758754, 'fun': 'manager.py:select_destinations', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': '__run_method', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.766025, 'fun': '__init__.py:select_destinations', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': 'select_destinations', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032895.786625, 'fun': 'query.py:select_destinations', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': '_do_dispatch', 'start': 1, 'host': 'node-3.domain.tld', 'time': 1498032921.676819, 'fun': 'dispatcher.py:inner', 'module_name': '/usr/bin/nova-scheduler'}, {'last_func': 'select_destinations', 'start': 1, 'host': 'node-3.domain.tld', 'time': 1498032921.693522, 'fun': 'manager.py:select_destinations', 'module_name': '/usr/bin/nova-scheduler'}, {'last_func': 'select_destinations', 'start': 1, 'host': 'node-3.domain.tld', 'time': 1498032921.746665, 'fun': 'filter_scheduler.py:_schedule', 'module_name': '/usr/bin/nova-scheduler'}, {'last_func': 'select_destinations', 'start': 0, 'host': 'node-3.domain.tld', 'usedtime': 0.05369710922241211, 'time': 1498032921.800362, 'fun': 'filter_scheduler.py:_schedule', 'module_name': '/usr/bin/nova-scheduler'}, {'last_func': 'select_destinations', 'start': 0, 'host': 'node-3.domain.tld', 'usedtime': 0.12087106704711914, 'time': 1498032921.814393, 'fun': 'manager.py:select_destinations', 'module_name': '/usr/bin/nova-scheduler'}, {'last_func': '_do_dispatch', 'start': 0, 'host': 'node-3.domain.tld', 'usedtime': 0.14805889129638672, 'time': 1498032921.824878, 'fun': 'dispatcher.py:inner', 'module_name': '/usr/bin/nova-scheduler'}, {'last_func': 'select_destinations', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.24116897583007812, 'time': 1498032896.027794, 'fun': 'query.py:select_destinations', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': '__run_method', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.2722339630126953, 'time': 1498032896.038259, 'fun': '__init__.py:select_destinations', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': '_schedule_instances', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.2890019416809082, 'time': 1498032896.047756, 'fun': 'manager.py:select_destinations', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': 'build_instances', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.31452488899230957, 'time': 1498032896.056918, 'fun': 'manager.py:_schedule_instances', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': 'build_instances', 'start': 1, 'host': 'node-1.domain.tld', 'time': 1498032896.169329, 'fun': 'manager.py:build_and_run_instance', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': 'build_instances', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.020122051239013672, 'time': 1498032896.189451, 'fun': 'manager.py:build_and_run_instance', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': '_do_dispatch', 'start': 0, 'host': 'node-1.domain.tld', 'usedtime': 0.48166489601135254, 'time': 1498032896.200948, 'fun': 'dispatcher.py:build_instances', 'module_name': '/usr/bin/nova-conductor'}, {'last_func': '_do_dispatch', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032910.294609, 'fun': 'dispatcher.py:build_and_run_instance', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_do_dispatch', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.02649402618408203, 'time': 1498032910.321103, 'fun': 'dispatcher.py:build_and_run_instance', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_locked_do_build_and_run_instance', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032910.32402, 'fun': 'manager.py:_do_build_and_run_instance', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_do_build_and_run_instance', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032910.512081, 'fun': 'manager.py:_build_and_run_instance', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032910.52567, 'fun': 'manager.py:_notify_about_instance_usage', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_notify_about_instance_usage', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032910.541357, 'fun': 'manager.py:notify_about_instance_usage', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_notify_about_instance_usage', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.021398067474365234, 'time': 1498032910.562755, 'fun': 'manager.py:notify_about_instance_usage', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.05545687675476074, 'time': 1498032910.581127, 'fun': 'manager.py:_notify_about_instance_usage', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032910.865408, 'fun': 'manager.py:_build_resources', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.008495092391967773, 'time': 1498032910.873903, 'fun': 'manager.py:_build_resources', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_resources', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032910.891253, 'fun': 'manager.py:_build_networks_for_instance', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_networks_for_instance', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032910.908619, 'fun': 'manager.py:_allocate_network', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_networks_for_instance', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.2348179817199707, 'time': 1498032911.143437, 'fun': 'manager.py:_allocate_network', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_resources', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.2798449993133545, 'time': 1498032911.171098, 'fun': 'manager.py:_build_networks_for_instance', 'module_name': '/usr/bin/nova-compute'}, {'last_func': 'context_wrapper', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032911.150795, 'fun': 'utils.py:_allocate_network_async', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_allocate_network_async', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032911.650951, 'fun': 'manager.py:allocate_for_instance', 'module_name': '/usr/bin/nova-compute'}, {'last_func': 'do_create', 'start': 1, 'host': 'node-3.domain.tld', 'time': 1498032924.319562, 'fun': 'base.py:create_port', 'module_name': '/usr/bin/neutron-server'}, {'last_func': '_build_and_run_instance', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032911.956964, 'fun': 'manager.py:spawn', 'module_name': '/usr/bin/nova-compute'}, {'last_func': 'do_create', 'start': 0, 'host': 'node-3.domain.tld', 'usedtime': 0.3637099266052246, 'time': 1498032924.683272, 'fun': 'base.py:create_port', 'module_name': '/usr/bin/neutron-server'}, {'last_func': 'allocate_for_instance', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032921.034084, 'fun': 'api.py:get_instance_nw_info', 'module_name': '/usr/bin/nova-compute'}, {'last_func': 'get_instance_nw_info', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032921.127266, 'fun': 'base_api.py:_get_instance_nw_info', 'module_name': '/usr/bin/nova-compute'}, {'last_func': 'get', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498032930.267338, 'fun': 'api.py:show', 'module_name': '/usr/bin/nova-compute'}, {'last_func': 'get_instance_nw_info', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 9.35932207107544, 'time': 1498032930.486588, 'fun': 'base_api.py:_get_instance_nw_info', 'module_name': '/usr/bin/nova-compute'}, {'last_func': 'allocate_for_instance', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 9.501811981201172, 'time': 1498032930.535896, 'fun': 'api.py:get_instance_nw_info', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_allocate_network_async', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 18.90215802192688, 'time': 1498032930.553109, 'fun': 'manager.py:allocate_for_instance', 'module_name': '/usr/bin/nova-compute'}, {'last_func': 'context_wrapper', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 19.418267011642456, 'time': 1498032930.569062, 'fun': 'utils.py:_allocate_network_async', 'module_name': '/usr/bin/nova-compute'}, {'last_func': 'get', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.3185999393463135, 'time': 1498032930.585938, 'fun': 'api.py:show', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 128.18506503105164, 'time': 1498033040.142029, 'fun': 'manager.py:spawn', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498033040.161052, 'fun': 'manager.py:_update_instance_after_spawn', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.01822805404663086, 'time': 1498033040.17928, 'fun': 'manager.py:_update_instance_after_spawn', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498033040.368805, 'fun': 'manager.py:_update_scheduler_instance_info', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_update_scheduler_instance_info', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498033040.383529, 'fun': 'manager.py:update_instance_info', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '__run_method', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498033040.400682, 'fun': '__init__.py:update_instance_info', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '__run_method', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.03188300132751465, 'time': 1498033040.432565, 'fun': '__init__.py:update_instance_info', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_update_scheduler_instance_info', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.06613993644714355, 'time': 1498033040.449669, 'fun': 'manager.py:update_instance_info', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.09432196617126465, 'time': 1498033040.463127, 'fun': 'manager.py:_update_scheduler_instance_info', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498033040.478086, 'fun': 'manager.py:_notify_about_instance_usage', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_notify_about_instance_usage', 'start': 1, 'host': 'node-4.domain.tld', 'time': 1498033040.496247, 'fun': 'manager.py:notify_about_instance_usage', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_notify_about_instance_usage', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.024747848510742188, 'time': 1498033040.520995, 'fun': 'manager.py:notify_about_instance_usage', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_build_and_run_instance', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 0.057990074157714844, 'time': 1498033040.536076, 'fun': 'manager.py:_notify_about_instance_usage', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_do_build_and_run_instance', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 130.0426471233368, 'time': 1498033040.554728, 'fun': 'manager.py:_build_and_run_instance', 'module_name': '/usr/bin/nova-compute'}, {'last_func': '_locked_do_build_and_run_instance', 'start': 0, 'host': 'node-4.domain.tld', 'usedtime': 130.28309202194214, 'time': 1498033040.607112, 'fun': 'manager.py:_do_build_and_run_instance', 'module_name': '/usr/bin/nova-compute'}]

    """
    mc = memcache.Client(["192.168.10.3:11211","192.168.10.4:11211", "192.168.10.5:11211"])
    log = mc.get("123.123456")
    if not log:
        print "log is null"
        sys.exit()
    else:
        #print log
        pass
    """
    opt = iom_log_to_graph.Log_to_graph()
    logdata = opt.log_format(log_list)
    print logdata
    _path = "/tmp/"
    _name = "iom"
    file_name = _path + _name + ".html"
    html_str = opt.make_html(logdata)
    fd = open('/tmp/iom.html','w')
    fd.write(html_str)
    fd.close()


main()
